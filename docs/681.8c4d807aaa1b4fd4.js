"use strict";(self.webpackChunkfaceit=self.webpackChunkfaceit||[]).push([[681],{3068:(m,p,o)=>{o.d(p,{s:()=>u});var f=o(7983),h=o(1465);const c=["vega-flex-grow","vega-flex-shrink","vega-flex-grow-0","vega-flex-shrink-0","vega-flex-basis-0","v-flex-1","v-min-w-min","disabled","v-text-black","v-text-white","v-hidden","vega-loader-container-relative","vega-page-notification-fade-out"];function u(l,d){return f.F.isEnabled("VEGA_COMPONENT.SANITIZE_VEGA_COMPONENT")&&(function E(l,d){var r,e,t;const i=["hydrated"].concat((null===(e=null===(r=l.$attrs$)||void 0===r?void 0:r.class)||void 0===e?void 0:e.split(/\s+/).filter(Boolean))||[]),a=(null===(t=d.dataset.verifiedClasses)||void 0===t?void 0:t.split(" "))||[],s=new Set([...i,...a,...c]),n=Array.from(d.classList).filter(Boolean).filter(v=>{const _=v.replace(/(S|M|L|XL):/,"");return!s.has(_)}).filter(v=>!v.startsWith("ng-"));n.length&&h.L.error(`Found class(es) ${n} added to component:`,d," which is anti vega design pattern and we will forbid this behavior in the future release."," for more details, please refer to: https://heartland1.gitlab.io/vega/tiger/?path=/docs/other-best-practice--page"),"hydrated"!==i.join()&&(d.dataset.verifiedClasses=i.join(" "))}(l,d),function g(l){l.children&&Array.from(l.children).forEach(r=>{r.hasAttribute("data-shrink")&&h.L.error("Found attribute [data-shrink='0'] inside component:",l," which will be deprecated, please use classes of vega-flex-shrink, vega-flex-grow, vega-flex-shrink-0, vega-flex-grow-0, vega-flex-basis-0 instead.")})}(d)),l}},8768:(m,p,o)=>{o.d(p,{I:()=>l});var f=o(5861),h=o(2723),c=o(2220),u=o(4432);class E{constructor(e,t,i=".vega-input-container",a="input"){var s,n;this.defaultRules=[],this.additionalRules=[],this.listeners=[],this.inputContainerSelector="",this.isTouched=!1,this.isModified=!1,this.isVisible=!1,this.defaultRules=e,this.hostElement=t,this.inputContainerSelector=i,this.touchableArea=a,this.initDisabledAttrObserver(),this.initResizeObserver(),this.initFormResetObserver(),null===(n=(s=this.hostElement).componentOnReady)||void 0===n||n.call(s).then(()=>{this.didRender()})}static getFormFieldDefaultValue(e){const t=e.tagName;switch(t){case"VEGA-INPUT-SELECT":case"VEGA-RADIO-GROUP":case"VEGA-INPUT":case"VEGA-TEXTAREA":case"VEGA-TIME-PICKER":case"VEGA-COLOR-PICKER":return"";case"VEGA-CHECKBOX-GROUP":case"VEGA-COMBO-BOX":return[];case"VEGA-DATE-PICKER":return"range"===e.mode?["",""]:"";case"VEGA-CHECKBOX":return""!==e.identifier&&"";case"VEGA-IMAGE-UPLOADER":return null;case"VEGA-STEPPER":return 0;default:throw new Error(`Unrecognized tagName ${t}`)}}validate(e){return this.valid([],e)}addListener(e){this.listeners.push(e)}getRules(){return[...this.defaultRules,...this.additionalRules]}setDefaultRules(e){this.defaultRules=e}setAdditionalRules(e){this.additionalRules=e}destroy(){this.unregisterFormResetObserver()}valid(e,t="rule"){const a=this.getFirstInvalidRuleResult(this.hostElement.value,e);let s=!0;return a?("rule"===t?a.shouldShowError?this.applyInputInvalidUI(a.message):this.resetInputInvalidUI():t?this.applyInputInvalidUI(a.message):this.resetInputInvalidUI(),s=!1):this.resetInputInvalidUI(),this.invokeListeners(s),s}getFirstInvalidRuleResult(e,t){const i=this.getStatus();for(const a of this.getRules().filter(s=>s.canEvaluate(e,i,t))){const s=a.evaluate(e),n=a.shouldShowError?a.shouldShowError(i,t):this.defaultShouldShowError(i),v=Object.assign(Object.assign({},s),{shouldShowError:n});if(!s.isValid)return v}return null}applyInputInvalidUI(e){if(e){const t=this.getInputElementContainer(),i=this.getErrorContainer();i.innerHTML=e,i.classList.remove("vega-hidden"),t.classList.add("error")}}resetInputInvalidUI(){const e=this.getInputElementContainer();this.getErrorContainer().classList.add("vega-hidden"),e.classList.remove("error")}getInputElementContainer(){const e=this.hostElement.querySelector(this.inputContainerSelector);if(!e)throw new Error(`Can't not find inputContainer with selector ${this.inputContainerSelector}`);return e}getErrorContainer(){var e;const t=this.getInputElementContainer();let i=t.nextSibling;return(!i||!(null!==(e=i.classList)&&void 0!==e&&e.contains("vega-error")))&&(i=document.createElement("label"),i.classList.add("vega-error"),t.after(i)),i}invokeListeners(e){this.listeners.forEach(t=>t.callback(e))}getStatus(){return{touched:this.isTouched,modified:this.isModified,disabled:this.hostElement.disabled,visible:this.isVisible}}updateIsTouched(e){const t=this.isTouched;this.isTouched=e,this.isAutoValidationEnabled()&&this.valid(t===e?[]:["touched"])}updateIsModified(e){const t=this.isModified;this.isModified=e,this.isAutoValidationEnabled()&&this.valid(t===e?[]:["modified"])}initDisabledAttrObserver(){this.disabledAttrObserver=new MutationObserver(()=>{this.isAutoValidationEnabled()&&this.valid(["disabled"])}),this.disabledAttrObserver.observe(this.hostElement,{attributes:!0,attributeFilter:["disabled"]})}initResizeObserver(){this.resizeObserver=new ResizeObserver(e=>{const t=this.isVisible,i=e[0].contentRect.height>0;this.isVisible=i,this.isAutoValidationEnabled()&&(0,u.f)(this.hostElement,"vega-form")&&t!==i&&this.valid(["visible"])}),this.resizeObserver.observe(this.hostElement)}canAcceptFormResetOperation(e){return(0,u.f)(this.hostElement,"vega-form")===e.host}unregisterFormResetObserver(){h.C.unregister(h.F,this.formResetTriggeredObserver)}setupTouchedListener(){this.hostElement.querySelectorAll(this.touchableArea).forEach(e=>e.addEventListener("blur",()=>{this.updateIsTouched(!0)}))}setupModifiedListener(){this.hostElement.addEventListener("vegaChange",()=>{this.updateIsModified(!0)})}reset(e){var t=this;return(0,f.Z)(function*(){var i,a;if(t.shouldVisitElement(t.hostElement,null===(i=e.option)||void 0===i?void 0:i.skipDisabled,null===(a=e.option)||void 0===a?void 0:a.skipInvisible)){const s=t.hostElement.dataset.vegaForm,n=null==e.defaultValueMap[s]?E.getFormFieldDefaultValue(t.hostElement):e.defaultValueMap[s];"function"==typeof t.hostElement.setValue?yield t.hostElement.setValue(n):t.hostElement.value=n,t.isTouched=!1,t.isModified=!1,t.resetInputInvalidUI()}})()}didRender(){this.setupTouchedListener(),this.setupModifiedListener()}initFormResetObserver(){this.formResetTriggeredObserver=new c.O(this.canAcceptFormResetOperation.bind(this),this.reset.bind(this)),h.C.register(h.F,this.formResetTriggeredObserver)}isAutoValidationEnabled(){return!1!==this.hostElement.autoValidation}defaultShouldShowError(e){return!e.disabled&&e.visible&&(e.touched||e.modified)}shouldVisitElement(e,t,i){return e.dataset.vegaForm&&(!t||!e.disabled)&&(!i||(0,u.b)(e))}}const g=r=>r.replace(/([A-Z])/g,e=>`-${e[0].toLowerCase()}`);function l(r,e,t=".vega-input-container",i="input",a=!1){return(s,n)=>{const{componentWillLoad:v,componentDidLoad:_,disconnectedCallback:R}=s;s.componentWillLoad=function(){return(!a||a&&this.host.getAttribute("data-vega-form"))&&(this.injectFormFieldHelper=new d(this,n,r,e,t,i)),v?.call(this)},s.componentDidLoad=function(){var b;return null===(b=this.injectFormFieldHelper)||void 0===b||b.observeRuleAttributes(),_?.call(this)},s.disconnectedCallback=function(){var b;return null===(b=this.injectFormFieldHelper)||void 0===b||b.destroy(),R?.call(this)}}}class d{constructor(e,t,i,a,s,n){this.target=e,this.validatorPropertyName=t,this.propertyRuleMap=i,this.validationRulesProperty=a,this.inputContainerSelector=s,this.touchableAreaSelector=n,this.initFormFieldController(),this.setAdditionalRules()}observeRuleAttributes(){var e=this;this.formFieldAttributesObserver||(this.formFieldAttributesObserver=new MutationObserver((0,f.Z)(function*(){e.setAdditionalRules(),e.setDefaultRules(),e.validate()})));const t=this.propertyRuleMap.entries.map(i=>g(i.propertyName));this.validationRulesProperty&&t.push(g(this.validationRulesProperty.name)),this.formFieldAttributesObserver.observe(this.target.host,{attributeFilter:t})}destroy(){this.target[this.validatorPropertyName].destroy(),this.formFieldAttributesObserver.disconnect()}initFormFieldController(){const e=new E(this.propertyRuleMap.entries.map(t=>t.ruleFactory(this.target[t.propertyName],this.target)).filter(Boolean),this.target.host,this.inputContainerSelector,this.touchableAreaSelector);e.addListener({callback:t=>{this.target.isValid=t}}),this.target[this.validatorPropertyName]=e}setAdditionalRules(){this.validationRulesProperty&&this.target[this.validatorPropertyName].setAdditionalRules(this.target[this.validationRulesProperty.name]||[])}setDefaultRules(){this.target[this.validatorPropertyName].setDefaultRules(this.propertyRuleMap.entries.map(e=>e.ruleFactory(e.propValueAccessor?e.propValueAccessor(this.target.host):this.target[e.propertyName],this.target.host)).filter(Boolean))}validate(){this.target.disabled||this.target[this.validatorPropertyName].validate()}}},2220:(m,p,o)=>{o.d(p,{O:()=>f});class f{constructor(c,u){this.accept=c,this.listener=u}notify(c){this.accept(c)&&this.listener(c)}}},2723:(m,p,o)=>{o.d(p,{A:()=>g,C:()=>c,F:()=>l,S:()=>E});var f=o(1465);const c=new class h{constructor(){this.pubSubMap=new Map}register(r,e){if(this.pubSubMap.has(r)){const t=this.pubSubMap.get(r);t.includes(e)||t.push(e)}else this.pubSubMap.set(r,[e])}unregister(r,e){if(this.pubSubMap.has(r)){const t=this.pubSubMap.get(r);t.includes(e)&&t.splice(t.indexOf(e),1)}}notify(r,e){this.pubSubMap.has(r)&&this.pubSubMap.get(r).forEach(t=>{try{t.notify(e)}catch(i){f.L.warn(`Encountered error while notifying observer for subject ${r.getTitle()}`,i)}})}};class u{constructor(r){this.title=r}getTitle(){return this.title}}const E=new u("SIDENAV_LINK_SELECTED_TOPIC"),g=new u("ACCORDION_EXPAND_TOPIC"),l=new u("FORM_RESET_OPERATION_TRIGGERED")}}]);
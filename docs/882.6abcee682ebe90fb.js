"use strict";(self.webpackChunkfaceit=self.webpackChunkfaceit||[]).push([[882],{7882:(x,d,r)=>{r.r(d),r.d(d,{vega_textarea:()=>c});var v=r(5861),t=r(5934),_=r(8768),o=r(4359),g=r(7352),f=r(3068);r(2723),r(7983);const c=class{constructor(e){(0,t.r)(this,e),this.vegaChange=(0,t.c)(this,"vegaChange",7),this.vegaValidate=(0,t.c)(this,"vegaValidate",7),this.vegaBlur=(0,t.c)(this,"vegaBlur",7),this.currentCharCount=0,this.placeholder="",this.hint="",this.disabled=!1,this.label="",this.showCounter=!1,this.value="",this.isValid=null,this.autoValidation=!0,this.required=!1,this.maxLength=null,this.minLength=null,this.validationRules=[],this.renderTextareaContainer=()=>(0,t.h)("div",{class:"vega-textarea-container"},(0,t.h)("textarea",{rows:4,placeholder:this.placeholder,disabled:this.disabled,required:this.required,ref:this.setTextareaRef,maxLength:this.maxLength,minLength:this.minLength,value:this.value,onBlur:this.handleTextareaBlur,"aria-label":this.label||"No label defined"}),this.showCounter&&this.renderCharacterCounter()),this.renderHintMessage=()=>(0,t.h)("vega-text",null,this.hint),this.renderCharacterCounter=()=>(0,t.h)("div",{class:{"vega-textarea-counter":!0,"counter-exceed-max-length":this.isExceedMaxLength(this.value,this.maxLength)}},(0,t.h)("span",{id:"current"},this.currentCharCount),null!=this.maxLength&&this.renderMaxLengthNumber()),this.renderMaxLengthNumber=()=>(0,t.h)("span",{id:"maximum"},"/",this.maxLength),this.setTextareaRef=a=>{a&&this.textareaRef!==a&&(this.textareaRef=a)},this.inputFocus=()=>{this.textareaRef.focus()},this.handleTextareaBlur=()=>{this.vegaBlur.emit()},this.isExceedMaxLength=(a,i)=>null!=i&&a.length>i}watchValue(e){this.vegaChange.emit(e),this.textareaRef.value!==this.value&&(this.textareaRef.value=this.value),e&&(this.currentCharCount=e.length)}watchIsValid(){this.vegaValidate.emit(this.isValid)}componentWillLoad(){this.currentCharCount=this.value.length}handleValueTextarea(){this.value=this.textareaRef.value,this.currentCharCount=this.value.length}valid(e=!0){var a=this;return(0,v.Z)(function*(){return a.validator.validate(e)})()}render(){return(0,f.s)((0,t.h)(t.H,{class:{disabled:this.disabled}},this.renderLabelDom(),this.renderTextareaContainer(),this.hint&&this.renderHintMessage()),this.host)}renderLabelDom(){return(0,t.h)("vega-field-label",{onClick:this.inputFocus,"is-field-required":this.required,disabled:this.disabled,label:this.label})}get host(){return(0,t.g)(this)}static get watchers(){return{value:["watchValue"],isValid:["watchIsValid"]}}};!function(e,a,i,h){var l,n=arguments.length,s=n<3?a:null===h?h=Object.getOwnPropertyDescriptor(a,i):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,a,i,h);else for(var u=e.length-1;u>=0;u--)(l=e[u])&&(s=(n<3?l(s):n>3?l(a,i,s):l(a,i))||s);n>3&&s&&Object.defineProperty(a,i,s)}([(0,_.I)({entries:[{propertyName:"required",ruleFactory:e=>e?new g.R:null},{propertyName:"minLength",ruleFactory:e=>e?new o.M({minStrLength:e}):null},{propertyName:"maxLength",ruleFactory:e=>e?new o.a({maxStrLength:e}):null}]},{name:"validationRules"},".vega-textarea-container","textarea")],c.prototype,"validator",void 0)}}]);